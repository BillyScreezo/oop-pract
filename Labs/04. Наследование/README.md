# Лабораторная работа 4: Наследование

## Наследование виджетов Qt

Для того чтобы добавить новые возможности в стандартные виджеты Qt применяется наследование.

Все элементы окна в Qt образуют иерархию, так что у каждого виджета есть родитель
(*англ*. parent, не путать с родителем при наследовании в ООП) - виджет на котором он расположен.
Поэтому каждый класс виджета должен иметь конструктор следующего вида:
```cpp
MyWidget(QWidget* parent = nullptr);
```
С помощью списка инициализации этот `parent` нужно передать в конструктор родительского класса.

Для создания класса виджета создайте класс C++ как обычно в QtCreator.
Дайте ему название, и укажите базовый класс, выбрав его из списка или введя вручную.
Подключите `QWidget` и добавьте `Q_OBJECT`.

Для того чтобы воспользоваться новым виджетом в дизайнере интерфейса, необходимо снала
добавить в окно виджет, который является родительским для вашего.
А затем, нажав на добавленный виджет правой кнопкой мыши, выбрать пукт меню `Преобразовать в ...`.

В окне преобразованных виджетов ввести имя преобразованного класса (то есть название вашего класса)
и заголовочный файл в котором ваш класс описан. Нажать `Добавить` и `Преобразовать`
(см. [Using Custom Widgets with Qt Widgets Designer](https://doc.qt.io/qt-6/designer-using-custom-widgets.html)).
В результате в иерархии элементов вашего окна родительский класс будет заменен на новый дочерний.

После этого к вашему виджету можно будет обращаться как обычно через `ui->widgetName->...` .

*Примечание:*
Для чтобы избежать ошибки с ненайденным заголовочным файлом вашего класса,
добавьте следующую строку в `CMakeLists.txt`:
```cmake
target_include_directories(uitest PUBLIC ${CMAKE_CURRENT_LIST_DIR})
```
где `proj` - название *ВАШЕГО* проекта, его можно подсмотреть в начале файла, там есть запись:
```cmake
project(proj VERSION 0.1 LANGUAGES CXX)
```

## Задание:

1) Переделать класс из ЛР1:
   - добавить значения по-умолчанию для всех атрибутов;
   - убрать тело конструктора по-умолчанию и сделать его `= default`;
   - специальный конструктор сделать через список инициализации;

2) Создать дочерний класс от базового класса из ЛР1:
   - добавить ему пару атрибутов, наример
       Книга <- Журнал (периодичность),
       Кино <- Сериал (количество сезонов);
   - создать сеттер-геттер для добавленных свойств;
   - создать специальный конструктор;

3) Переделать CsvReader и CsvWriter на работу с новым дочерним классом;

4) Создать класс MyTextBrowser, наследованный от QTextBrowser;
   - добавить ему функцию appendBook (или другое по вашему варианту),
     которая будет выводить на экран объекты вашего класса;
   - весь вывод данных на экран производить через эту функцию;
