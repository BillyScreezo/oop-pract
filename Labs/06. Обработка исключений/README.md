# Лабораторная работа 6: Обработка исключений

## `try` и `catch`

Ошибки в программах можно разделить на два типа: ошибки времени компиляции
(те которые возникают в процессе компиляции программы) и ошибки времени выполнения
(те которые возникают при работе программы, например, пользователь ввел буквы вместо числа в поле ввода года).

Одним из методов обработки ошибок времени выполнения являются исключения. Суть метода в том что блок кода,
в котором может возникнуть ошибка оборачивается в конструкции `try` и `catch`:
```cpp
std::string str;
std::cin >> str;

try {
  int year = std::stoi(str);
}
catch (const std::invalid_argument& ex) {
  std::cout << "Недопустимое число: " ex.what() << std::endl;
}
```
В случае, если пользователь введет некорректное число, std::stoi выбросит исключение и выполнение перейдет
в блок `catch`, который выведет ошибку на экран. После этого программа продолжит работу, а не будет аварийно завершена.

Для того чтобы выбросить свое исключение, применяется ключевое слово `throw`. Например:
```cpp
int year;
std::cin >> year;
if (year < 1905 || year > 2030) {
  throw std::invalid_argument("Введен неправильный год");
}
```

Выбрасывать и ловить в качестве исключений можно объекты любых типов: int, float, std::string, std::exception, и т.п.:
```cpp
throw 5;
throw std::string("Ошибка!");
throw myexception("Ошибка!", 5);

try {
  // .... throw smth
}
catch (int ex) {
  std::cout << "Error number " << ex << std::endl;
}
catch (const std::exception& ex) {
  std::cout << ex.what() << std::endl;
}
catch (const myexception& ex) {
  std::cout << ex.what() << ", number " << ex.number() << std::endl;
}
```

## Задание:

1) Завернуть вызовы `std::stoi` в CsvReader в блоки `try` - `catch`, так чтобы при ошибках в CSV-файле
   программа не падала, а выводила сообщение и продолжала работать;

2) Разработать собственный класс исключения, наследованный от `std::exception`, и выбрасывать (`throw`)
   объект этого класса в CsvReader'е при появлении ошибок в `std::stoi`;

   Класс-исключения должен содержать текстовое описание ошибки и номер строки на котором она возникла;

3) В MainWindow добавить обработку ошибок при вызове CsvReader::readAll() и выводить описание ошибки
   и номер строки на которй эта ошибка возникла в textBrowser красным цветом.
